# VMware 扩展Ubuntu虚拟机的磁盘空间


|                |                                                  |      |
| -------------- | ------------------------------------------------ | ---- |
| 虚拟机软件版本 | VMware® Workstation 15 Player                    |      |
| Ubuntu镜像版本 | Ubuntu 20.04.1 LTS                               |      |
| 具体操作简介   | 将虚拟机磁盘空间由30GB扩展到40GB，并进行磁盘分区 |      |

## 1. 准备工作

使用 `df -h` 指令查看一下磁盘空间的使用情况

![](/image/3.png)

可以看到，现在挂载的磁盘空间为29G，用了17G，还剩11G。
 下面开始扩展磁盘空间。

## 2. 编辑虚拟机设置

打开虚拟机，找到待扩展的虚拟机，点击`“编辑虚拟机设置”`选项。

![](/image/1.png)

在虚拟机设置窗口的`“硬件”`界面，选择`“硬盘”`选项，点击`“扩展”`。在弹出来的窗口中，输入你想要扩展到的磁盘空间。我想扩展到40GB，所以就填写了40。

![](/image/2.jpg)

## 3. 将[Ubuntu](https://so.csdn.net/so/search?q=Ubuntu&spm=1001.2101.3001.7020)系统重新分区

为了能够更方便地重新分区，可以下载一个分区管理软件`GParted`
 在虚拟机中打开终端，输入`sudo apt-get install gparted`指令，安装`GParted`软件。

安装完成后，就可以对磁盘进行分区了。
 点击该软件，进行磁盘分区。

![](/image/4.png)

打开软件后，可以看到目前虚拟机的磁盘情况。

![](/image/5.png)

可以看到，现在我的虚拟机有一块29.5GB的磁盘`/dev/sda5`以及一块10GB未分配的磁盘，而且`/dev/sda5`被挂载到了根目录下。
 现在就可以为`/dev/sda5`扩展空间了。右键单击`/dev/sda2`的分区，选择`Resize/Move`选项

![](/image/2020050622561461.gif)

![](/image/6.png)

![](/image/7.png)

![](/image/8.png)

![](/image/9.png)

![](/image/10.png)

![](/image/11.png)

![](/image/12.png)

![](/image/13.png)

可以看到，磁盘空间已经变为了39GB

